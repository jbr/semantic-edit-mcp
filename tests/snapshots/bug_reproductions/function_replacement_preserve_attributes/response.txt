=== snapshot test tool call: stage_operation ===
STAGED: Replace

===DIFF===
 impl DataProcessor {
     pub fn new() -> Self {
         Self {
-            data: HashMap::new()
+            data: HashMap::new(),
         }
     }
 }
 #[deprecated(since = "1.0.0", note = "Use new_process instead")]
 #[allow(dead_code)]
 pub fn old_process(input: &str) -> String {
-    format!("Processing: {}", input)
+    // Updated implementation without providing attributes
+    // Should preserve existing #[deprecated] and #[allow] attributes
+    format!("New processing: {}", input.to_uppercase())
 }

 pub fn simple_function() {
=== snapshot test tool call: commit_staged ===
Replace operation result:
Successfully replaced function_item node

===DIFF===
 impl DataProcessor {
     pub fn new() -> Self {
         Self {
-            data: HashMap::new()
+            data: HashMap::new(),
         }
     }
 }
 #[deprecated(since = "1.0.0", note = "Use new_process instead")]
 #[allow(dead_code)]
 pub fn old_process(input: &str) -> String {
-    format!("Processing: {}", input)
+    // Updated implementation without providing attributes
+    // Should preserve existing #[deprecated] and #[allow] attributes
+    format!("New processing: {}", input.to_uppercase())
 }

 pub fn simple_function() {
