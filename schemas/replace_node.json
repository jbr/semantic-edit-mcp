{
    "type": "object",
    "properties": {
        "file_path": {
            "type": "string",
            "description": "Path to the source file. Supports Rust (.rs), JSON (.json), and other languages."
        },
        "selector": {
            "type": "object",
            "description": "Node selector (by name, type, or query). Use semantic selectors for reliable targeting.",
            "properties": {
                "type": {
                    "type": "string",
                    "description": "Node type (e.g., 'function_item', 'object', 'pair') - RECOMMENDED for reliable selection"
                },
                "name": {
                    "type": "string",
                    "description": "Name of the node - RECOMMENDED for reliable selection"
                },
                "query": {
                    "type": "string",
                    "description": "Tree-sitter query - RECOMMENDED for precise selection"
                }
            }
        },
        "new_content": {
            "type": "string",
            "description": "New content to replace the node"
        },
        "preview_only": {
            "type": "boolean",
            "description": "If true, show preview of changes without writing to file",
            "default": false
        },
        "language": {
            "type": "string",
            "description": "Optional language hint (e.g., 'rust', 'json', 'toml'). If not provided, language will be detected from file extension.",
            "enum": ["rust", "json", "toml", "markdown", "typescript", "javascript", "python"]
        }
    },
    "required": ["file_path", "selector", "new_content"]
}
